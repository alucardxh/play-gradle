plugins {
    id 'java'
    id 'org.gradle.playframework' version '0.9'
    id 'idea'
    id "com.gradle.plugin-publish" version "0.10.1"
}

group 'steve.playframework'
version '1.0-SNAPSHOT'
apply plugin: "com.gradle.plugin-publish"

sourceCompatibility = 12
play {
    platform {
        playVersion = '2.6.7'
        scalaVersion = '2.12'
        javaVersion = JavaVersion.VERSION_12
    }

    injectedRoutesGenerator = true
}
repositories {
    mavenCentral()
    jcenter()
    maven {
        name "lightbend-maven-release"
        url "https://repo.lightbend.com/lightbend/maven-releases"
    }
    ivy {
        name "lightbend-ivy-release"
        url "https://repo.lightbend.com/lightbend/ivy-releases"
        layout "ivy"
    }
}

dependencies {
    implementation "com.typesafe.play:play-guice_2.12:2.6.7"
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

pluginBundle {
    publishPlugins
}

publishPlugins {
    if (!System.getenv("CI").equals(null) && !System.getenv("CI").isEmpty()) {
        useAutomatedPublishing()
    }
}